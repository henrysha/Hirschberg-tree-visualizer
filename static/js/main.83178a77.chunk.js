(this["webpackJsonphirschberg-visualizer"]=this["webpackJsonphirschberg-visualizer"]||[]).push([[0],{31:function(e,t,n){e.exports=n(80)},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},41:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(15),s=n.n(l),o=(n(36),n(37),n(38),n(7)),i=n(8),c=n(10),h=n(9),u=n(6),m=n(11),g=n(27),f=n(83),p=n(82),v=n(29),d=n(84),b=n(12),E=n.n(b),S=(n(41),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={sequence1:"GC",sequence2:"GCAT",matchScore:1,mismatchScore:-1,gapScore:-1},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleScoreChange=n.handleScoreChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){console.log("handleChange e.target, e.t.value: ",e.target.id,e.target.value),this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"handleScoreChange",value:function(e){console.log("handleScroeChange: ",e),this.setState(e)}},{key:"handleSubmit",value:function(e){console.log("handleSubmit event: ",e),e.preventDefault(),this.props.submitInput(this.state)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"inputForm"},r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,{as:p.a,controlId:"sequence1"},r.a.createElement(f.a.Label,{column:!0,sm:3},"Sequence 1"),r.a.createElement(v.a,{sm:9},r.a.createElement(f.a.Control,{size:"sm",value:this.state.sequence1,onChange:this.handleChange}))),r.a.createElement(f.a.Group,{as:p.a,controlId:"sequence2"},r.a.createElement(f.a.Label,{column:!0,sm:3},"Sequence 2"),r.a.createElement(v.a,{sm:9},r.a.createElement(f.a.Control,{size:"sm",value:this.state.sequence2,onChange:this.handleChange}))),r.a.createElement(f.a.Group,{as:p.a,controlId:"matchScore"},r.a.createElement(f.a.Label,{className:"numericLabel",column:!0,sm:3},"Match Score"),r.a.createElement(v.a,{sm:4},r.a.createElement(E.a,{value:this.state.matchScore,onChange:function(t){return e.handleScoreChange({matchScore:t})}}))),r.a.createElement(f.a.Group,{as:p.a,controlId:"mismatchScore"},r.a.createElement(f.a.Label,{className:"numericLabel",column:!0,sm:3},"Mismatch Score"),r.a.createElement(v.a,{sm:4},r.a.createElement(E.a,{value:this.state.mismatchScore,onChange:function(t){return e.handleScoreChange({mismatchScore:t})}}))),r.a.createElement(f.a.Group,{as:p.a,controlId:"gapScore"},r.a.createElement(f.a.Label,{className:"numericLabel",column:!0,sm:3},"Gap Score"),r.a.createElement(v.a,{sm:4},r.a.createElement(E.a,{value:this.state.gapScore,onChange:function(t){return e.handleScoreChange({gapScore:t})}}))),r.a.createElement(d.a,{variant:"primary",type:"submit"},"Submit")))}}]),t}(a.Component)),j=n(30),C=n.n(j),y=(n(77),{x:512,y:50});var O=function(e){return r.a.createElement("div",{className:"TreeWrapper"},r.a.createElement(C.a,{data:e.data,orientation:"vertical",translate:y}))},q=[-1,0],k=[0,-1],w=[-1,-1],I=[0,0];function N(e,t,n){for(var a=[],r=[],l=[],s=0;s<e.length+1;s++){a.push([]),r.push([]),l.push([]);for(var o=0;o<t.length+1;o++)a[s][o]=0,r[s][o]=0,l[s][o]=0}for(s=0;s<e.length+1;s++)for(o=1;o<t.length+1;o++)a[s][o]=n["-"][t[o-1]];for(s=1;s<e.length+1;s++)for(o=0;o<t.length+1;o++)r[s][o]=n[e[s-1]]["-"];for(s=1;s<e.length+1;s++)for(o=1;o<t.length+1;o++)l[s][o]=n[e[s-1]][t[o-1]];return[a,r,l]}function G(e){return e.split("").reverse().join("")}function x(e,t,n){console.log("globalAlignment: v: ",e,", w: ",t);for(var a=N(e,t,n),r=a[0],l=a[1],s=a[2],o=[],i=[],c=0;c<e.length+1;c++){o.push([]),i.push([]);for(var h=0;h<t.length+1;h++)o[c][h]=0,i[c][h]=I}for(c=0;c<e.length+1;c++)for(h=0;h<t.length+1;h++)if(0!==c||0!==h)if(c>0&&0===h)o[c][h]=o[c-1][h]+l[c][h],i[c][h]=q;else if(0===c&&h>0)o[c][h]=o[c][h-1]+r[c][h],i[c][h]=k;else{var u=o[c-1][h]+l[c][h],m=o[c][h-1]+r[c][h],g=o[c-1][h-1]+s[c][h];o[c][h]=Math.max(u,m,g),o[c][h]===u?i[c][h]=q:o[c][h]===m?i[c][h]=k:i[c][h]=w}for(var f=e.length,p=t.length,v="",d="";;){var b=i[f][p];if(b===q?(v+=e[f-1],d+="-"):b===k?(v+="-",d+=t[p-1]):b===w?(v+=e[f-1],d+=t[p-1]):(v+=e[f],d+=t[p]),f+=b[0],p+=b[1],0==f&&0==p)break}v=G(v),d=G(d);var E="";for(c=0;c<v.length;c++)v[c]===d[c]?E+="|":E+="=";var S={string1:v,alignment:E,string2:d};return E=v+"\n"+E+"\n"+d,console.log(S),console.log(E),[o,i,E,S]}function L(e,t,n,a,r,l){var s={name:"("+e+" / "+t+")",attributes:{prefix_i:a,suffix_j:r,i:e.length+a,j:t.length+r}};if(t.length>1){var o=function(e,t,n){for(var a=N(e,t,n),r=a[0],l=a[1],s=a[2],o=x(e,t,n),i=o[0],c=(o[1],o[2],Math.ceil(t.length/2)),h=[],u=[],m=[],g=0;g<e.length+1;g++){h.push([]),u.push([]),m.push([]);for(var f=0;f<c+1;f++)h[g][f]=r[g][f],u[g][f]=l[g][f],m[g][f]=s[g][f]}var p=[],v=[],d=[];for(g=0;g<e.length+1;g++){p.push([]),v.push([]),d.push([]);for(f=0;f<t.length+1;f++)p[g][f]=0,l[g][f]=0,s[g][f]=0}for(g=e.length;g>-1;g--)for(f=t.length-1;f>c-1;f--)p[g][f]=r[g][f+1];for(g=e.length-1;g>-1;g--)for(f=t.length;f>c-1;f--)v[g][f]=l[g+1][f];for(g=e.length-1;g>-1;g--)for(f=t.length-1;f>c-1;f--)d[g][f]=s[g+1][f+1];var b=[],E=[],S=[];for(g=0;g<e.length+1;g++){b.push([]),E.push([]),S.push([]);for(f=c;f<t.length+1;f++)b[g][f]=p[g][f],E[g][f]=v[g][f],S[g][f]=d[g][f]}var j=[],C=[];for(g=0;g<e.length+1;g++){j.push([]),C.push([]);for(f=0;f<t.length+1;f++)j[g][f]=0,C[g][f]=I}for(g=e.length;g>-1;g--)for(f=t.length;f>-1;f--)if(g!==e.length||f!==t.length)if(g===e.length&&f<t.length)C[g][f]=k,j[g][f]=j[g][f+1]+p[g][f];else if(g<e.length&&f===t.length)C[g][f]=q,j[g][f]=j[g+1][f]+v[g][f];else{var y=j[g][f+1]+p[g][f],O=j[g+1][f]+v[g][f],G=j[g+1][f+1]+d[g][f],L=Math.max(y,O,G);C[g][f]=L===y?k:L===O?q:w,j[g][f]=L}var M=[],R=[],z=[],A=[],H=[];for(g=0;g<e.length+1;g++){M.push([]);for(f=0;f<c+1;f++)M[g].push(i[g][f]);R.push([]);for(f=c;f<t.length+1;f++)R[g].push(j[g][f])}for(g=0;g<e.length+1;g++)z.push(M[g][M[0].length-1]),A.push(R[g][0]);for(g=0;g<e.length+1;g++)H.push(z[g]+A[g]);var W=0,D=H[0];for(g=0;g<e.length+1;g++)H[g]>D&&(D=H[g],W=g);return[W,c]}(e,t,n),i=o[0],c=o[1],h=L(e.substring(0,i),t.substring(0,c),n,a,r,l+1),u=L(e.substring(i,e.length),t.substring(c,t.length),n,a+i,r+c,l+1);s.children=[h[1],u[1]];var m=function(e,t){console.log("merge, alignment1Obj: ",e,", alignment2Obj: ",t);for(var n=e.string1+t.string1,a=e.string2+t.string2,r="",l=0;l<Math.max(n.length,a.length);l++)r+=l<n.length&&l<a.length&&n[l]===a[l]?"|":"=";var s=n+"\n"+r+"\n"+a,o={string1:n,alignment:r,string2:a};return console.log("merge r: ",s,", resultObj: ",o),[s,o]}(h[2],u[2]);return[m[0],s,m[1]]}var g=x(e,t,n);return[g[2],s,g[3]]}n(78);var M=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={sequence1:"",sequence2:"",matchScore:1,mismatchScore:-1,gapScore:-1,displayResult:!1,treeData:{},alignment:"",alignmentObj:{}},n.submitInput=n.submitInput.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"submitInput",value:function(e){e.displayResult=!0,console.log("submitInput inputObj: ",e);var t=e.sequence1,n=e.sequence2;e.sequence1.length>e.sequence2.length&&(t=e.sequence2,n=e.sequence1);var a=function(e,t,n,a,r){({});for(var l=["A","C","T","G","-"],s={},o=0;o<l.length;o++){s[l[o]]={};for(var i=0;i<l.length;i++)s[l[o]][l[i]]=l[o]===l[i]?n:"-"==l[i]||"-"==l[o]?r:a}var c=L(e,t,s,0,0,0);return console.log("h:",c),c}(t,n,e.matchScore,e.mismatchScore,e.gapScore);this.setState({displayResult:!0,treeData:a[1],alignment:a[0],alignmentObj:a[2]})}},{key:"render",value:function(){console.log("state in main: ",this.state),console.log("displayResult: ",this.state.displayResult);this.state.alignment;var e=null,t="",n=null;if(this.state.displayResult){console.log("curr state: ",this.state),e=r.a.createElement(O,{data:this.state.treeData}),t="alignment";for(var a=this.state.alignmentObj,l=a.alignment,s="",o=0;o<l.length;o++)"="===l[o]?s+="\xa0":s+=l[o];n=r.a.createElement("div",{className:"alignment"},r.a.createElement("span",null,t),r.a.createElement("div",null,r.a.createElement("code",{key:"string1"},a.string1)),r.a.createElement("div",null,r.a.createElement("code",{key:"alignment"},s)),r.a.createElement("div",null,r.a.createElement("code",{key:"string2"},a.string2)))}return r.a.createElement("div",null,r.a.createElement(S,{submitInput:this.submitInput}),n,e)}}]),t}(a.Component);var R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h2",{className:"title"},"Hirschberg's Algorithm Visualization"),r.a.createElement("h1",{className:"description"},"Hirschberg's algorithm is a dynamic programming algorithm that finds the optimal sequence alignment between two strings. Hirschberg modifies global alignment (Needleman\u2013Wunsch algorithm) to using only linear space. Hirschberg uses a divide and conquer approach to partition each problem into two smaller subproblems. Hirschberg is based on the observation that to compute the optimal alignment score, we only need to store the current and previous row of the dynamic programming score matrix of Needleman-Wunsch. "),r.a.createElement("div",{className:"title"},r.a.createElement(M,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(79);s.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.83178a77.chunk.js.map