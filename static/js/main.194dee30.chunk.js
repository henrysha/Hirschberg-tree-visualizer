(this["webpackJsonphirschberg-visualizer"]=this["webpackJsonphirschberg-visualizer"]||[]).push([[0],{31:function(e,t,n){e.exports=n(80)},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},41:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(15),o=n.n(l),s=(n(36),n(37),n(38),n(7)),i=n(8),c=n(10),h=n(9),u=n(6),m=n(11),g=n(27),f=n(83),p=n(82),d=n(29),v=n(84),b=n(12),E=n.n(b),S=(n(41),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={sequence1:"",sequence2:"",matchScore:1,mismatchScore:-1,gapScore:-1},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleScoreChange=n.handleScoreChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){console.log("handleChange e.target, e.t.value: ",e.target.id,e.target.value),this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"handleScoreChange",value:function(e){console.log("handleScroeChange: ",e),this.setState(e)}},{key:"handleSubmit",value:function(e){console.log("handleSubmit event: ",e),e.preventDefault(),this.props.submitInput(this.state)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"inputForm"},r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,{as:p.a,controlId:"sequence1"},r.a.createElement(f.a.Label,{column:!0,sm:3},"Sequence 1"),r.a.createElement(d.a,{sm:9},r.a.createElement(f.a.Control,{size:"sm",onChange:this.handleChange}))),r.a.createElement(f.a.Group,{as:p.a,controlId:"sequence2"},r.a.createElement(f.a.Label,{column:!0,sm:3},"Sequence 2"),r.a.createElement(d.a,{sm:9},r.a.createElement(f.a.Control,{size:"sm",onChange:this.handleChange}))),r.a.createElement(f.a.Group,{as:p.a,controlId:"matchScore"},r.a.createElement(f.a.Label,{className:"numericLabel",column:!0,sm:3},"Match Score"),r.a.createElement(d.a,{sm:4},r.a.createElement(E.a,{value:this.state.matchScore,onChange:function(t){return e.handleScoreChange({matchScore:t})}}))),r.a.createElement(f.a.Group,{as:p.a,controlId:"mismatchScore"},r.a.createElement(f.a.Label,{className:"numericLabel",column:!0,sm:3},"Mismatch Score"),r.a.createElement(d.a,{sm:4},r.a.createElement(E.a,{value:this.state.mismatchScore,onChange:function(t){return e.handleScoreChange({mismatchScore:t})}}))),r.a.createElement(f.a.Group,{as:p.a,controlId:"gapScore"},r.a.createElement(f.a.Label,{className:"numericLabel",column:!0,sm:3},"Gap Score"),r.a.createElement(d.a,{sm:4},r.a.createElement(E.a,{value:this.state.gapScore,onChange:function(t){return e.handleScoreChange({gapScore:t})}}))),r.a.createElement(v.a,{variant:"primary",type:"submit"},"Submit")))}}]),t}(a.Component)),j=n(30),y=n.n(j),C=(n(77),{x:512,y:50});var O=function(e){return r.a.createElement("div",{className:"TreeWrapper"},r.a.createElement(y.a,{data:e.data,orientation:"vertical",translate:C}))},q=[-1,0],k=[0,-1],w=[-1,-1],I=[0,0];function N(e,t,n){for(var a=[],r=[],l=[],o=0;o<e.length+1;o++){a.push([]),r.push([]),l.push([]);for(var s=0;s<t.length+1;s++)a[o][s]=0,r[o][s]=0,l[o][s]=0}for(o=0;o<e.length+1;o++)for(s=1;s<t.length+1;s++)a[o][s]=n["-"][t[s-1]];for(o=1;o<e.length+1;o++)for(s=0;s<t.length+1;s++)r[o][s]=n[e[o-1]]["-"];for(o=1;o<e.length+1;o++)for(s=1;s<t.length+1;s++)l[o][s]=n[e[o-1]][t[s-1]];return[a,r,l]}function x(e){return e.split("").reverse().join("")}function L(e,t,n){console.log("globalAlignment: v: ",e,", w: ",t);for(var a=N(e,t,n),r=a[0],l=a[1],o=a[2],s=[],i=[],c=0;c<e.length+1;c++){s.push([]),i.push([]);for(var h=0;h<t.length+1;h++)s[c][h]=0,i[c][h]=I}for(c=0;c<e.length+1;c++)for(h=0;h<t.length+1;h++)if(0!==c||0!==h)if(c>0&&0===h)s[c][h]=s[c-1][h]+l[c][h],i[c][h]=q;else if(0===c&&h>0)s[c][h]=s[c][h-1]+r[c][h],i[c][h]=k;else{var u=s[c-1][h]+l[c][h],m=s[c][h-1]+r[c][h],g=s[c-1][h-1]+o[c][h];s[c][h]=Math.max(u,m,g),s[c][h]===u?i[c][h]=q:s[c][h]===m?i[c][h]=k:i[c][h]=w}for(var f=e.length,p=t.length,d="",v="";;){var b=i[f][p];if(b===q?(d+=e[f-1],v+="-"):b===k?(d+="-",v+=t[p-1]):b===w?(d+=e[f-1],v+=t[p-1]):(d+=e[f],v+=t[p]),f+=b[0],p+=b[1],0==f&&0==p)break}d=x(d),v=x(v);var E="";for(c=0;c<d.length;c++)d[c]===v[c]?E+="|":E+="=";var S={string1:d,alignment:E,string2:v};return E=d+"\n"+E+"\n"+v,console.log(S),console.log(E),[s,i,E,S]}function G(e,t,n,a,r,l){var o={name:"("+e+" / "+t+")",attributes:{prefix_i:a,suffix_j:r,i:e.length+a,j:t.length+r}};if(t.length>1){var s=function(e,t,n){for(var a=N(e,t,n),r=a[0],l=a[1],o=a[2],s=L(e,t,n),i=s[0],c=(s[1],s[2],Math.ceil(t.length/2)),h=[],u=[],m=[],g=0;g<e.length+1;g++){h.push([]),u.push([]),m.push([]);for(var f=0;f<c+1;f++)h[g][f]=r[g][f],u[g][f]=l[g][f],m[g][f]=o[g][f]}var p=[],d=[],v=[];for(g=0;g<e.length+1;g++){p.push([]),d.push([]),v.push([]);for(f=0;f<t.length+1;f++)p[g][f]=0,l[g][f]=0,o[g][f]=0}for(g=e.length;g>-1;g--)for(f=t.length-1;f>c-1;f--)p[g][f]=r[g][f+1];for(g=e.length-1;g>-1;g--)for(f=t.length;f>c-1;f--)d[g][f]=l[g+1][f];for(g=e.length-1;g>-1;g--)for(f=t.length-1;f>c-1;f--)v[g][f]=o[g+1][f+1];var b=[],E=[],S=[];for(g=0;g<e.length+1;g++){b.push([]),E.push([]),S.push([]);for(f=c;f<t.length+1;f++)b[g][f]=p[g][f],E[g][f]=d[g][f],S[g][f]=v[g][f]}var j=[],y=[];for(g=0;g<e.length+1;g++){j.push([]),y.push([]);for(f=0;f<t.length+1;f++)j[g][f]=0,y[g][f]=I}for(g=e.length;g>-1;g--)for(f=t.length;f>-1;f--)if(g!==e.length||f!==t.length)if(g===e.length&&f<t.length)y[g][f]=k,j[g][f]=j[g][f+1]+p[g][f];else if(g<e.length&&f===t.length)y[g][f]=q,j[g][f]=j[g+1][f]+d[g][f];else{var C=j[g][f+1]+p[g][f],O=j[g+1][f]+d[g][f],x=j[g+1][f+1]+v[g][f],G=Math.max(C,O,x);y[g][f]=G===C?k:G===O?q:w,j[g][f]=G}var M=[],R=[],z=[],H=[],W=[];for(g=0;g<e.length+1;g++){M.push([]);for(f=0;f<c+1;f++)M[g].push(i[g][f]);R.push([]);for(f=c;f<t.length+1;f++)R[g].push(j[g][f])}for(g=0;g<e.length+1;g++)z.push(M[g][M[0].length-1]),H.push(R[g][0]);for(g=0;g<e.length+1;g++)W.push(z[g]+H[g]);var A=0,D=W[0];for(g=0;g<e.length+1;g++)W[g]>D&&(D=W[g],A=g);return[A,c]}(e,t,n),i=s[0],c=s[1],h=G(e.substring(0,i),t.substring(0,c),n,a,r,l+1),u=G(e.substring(i,e.length),t.substring(c,t.length),n,a+i,r+c,l+1);o.children=[h[1],u[1]];var m=function(e,t){console.log("merge, alignment1Obj: ",e,", alignment2Obj: ",t);for(var n=e.string1+t.string1,a=e.string2+t.string2,r="",l=0;l<Math.max(n.length,a.length);l++)r+=l<n.length&&l<a.length&&n[l]===a[l]?"|":"=";var o=n+"\n"+r+"\n"+a,s={string1:n,alignment:r,string2:a};return console.log("merge r: ",o,", resultObj: ",s),[o,s]}(h[2],u[2]);return[m[0],o,m[1]]}var g=L(e,t,n);return[g[2],o,g[3]]}n(78);var M=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={sequence1:"",sequence2:"",matchScore:1,mismatchScore:-1,gapScore:-1,displayResult:!1,treeData:{},alignment:"",alignmentObj:{}},n.submitInput=n.submitInput.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"submitInput",value:function(e){e.displayResult=!0,console.log("submitInput inputObj: ",e);var t=e.sequence1,n=e.sequence2;e.sequence1.length>e.sequence2.length&&(t=e.sequence2,n=e.sequence1);var a=function(e,t,n,a,r){({});for(var l=["A","C","T","G","-"],o={},s=0;s<l.length;s++){o[l[s]]={};for(var i=0;i<l.length;i++)o[l[s]][l[i]]=l[s]===l[i]?n:"-"==l[i]||"-"==l[s]?r:a}var c=G(e,t,o,0,0,0);return console.log("h:",c),c}(t,n,e.matchScore,e.mismatchScore,e.gapScore);this.setState({displayResult:!0,treeData:a[1],alignment:a[0],alignmentObj:a[2]})}},{key:"render",value:function(){console.log("state in main: ",this.state),console.log("displayResult: ",this.state.displayResult);this.state.alignment;var e=null,t="",n=null;if(this.state.displayResult){console.log("curr state: ",this.state),e=r.a.createElement(O,{data:this.state.treeData}),t="alignment";for(var a=this.state.alignmentObj,l=a.alignment,o="",s=0;s<l.length;s++)"="===l[s]?o+="\xa0":o+=l[s];n=r.a.createElement("div",{className:"alignment"},r.a.createElement("span",null,t),r.a.createElement("div",null,r.a.createElement("code",{key:"string1"},a.string1)),r.a.createElement("div",null,r.a.createElement("code",{key:"alignment"},o)),r.a.createElement("div",null,r.a.createElement("code",{key:"string2"},a.string2)))}return r.a.createElement("div",null,r.a.createElement(S,{submitInput:this.submitInput}),n,e)}}]),t}(a.Component);var R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h2",{className:"title"},"Hirschberg's Algorithm Visualization"),r.a.createElement("h1",{className:"description"},"Hirschberg's algorithm is a dynamic programming algorithm that finds the optimal sequence alignment between two strings. Hirschberg modifies global alignment (Needleman\u2013Wunsch algorithm) to using only linear space. Hirschberg uses a divide and conquer approach to partition each problem into two smaller subproblems. Hirschberg is based on the observation that to compute the optimal alignment score, we only need to store the current and previous row of the dynamic programming score matrix of Needleman-Wunsch. "),r.a.createElement("div",{className:"title"},r.a.createElement(M,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(79);o.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.194dee30.chunk.js.map